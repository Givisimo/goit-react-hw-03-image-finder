{"version":3,"sources":["Modal/Modal.module.css","App/App.module.css","ImageGallery/ImageGallery.module.css","Button/Button.module.css","Searchbar/Searchbar.jsx"," ImageGalleryItem/ImageGalleryItem.jsx","ImageGallery/ImageGallery.jsx","Services/api.js","Button/Button.jsx","Modal/Modal.jsx","App/App.jsx","index.js","Searchbar/Searchbar.module.css"," ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","query","onChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","styles","searchbar","searchForm","type","searchFormButton","onClick","this","searchFormButtonLabel","searchFormInput","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","webformatURL","imageClick","id","imageGalleryItem","src","alt","imageGalleryItemImage","height","role","ImageGallery","images","imageGallery","map","image","key","fetchImgs","pageNumber","url","fetch","then","res","json","data","hits","Button","loadMore","button","MODAL_ROOT","document","querySelector","Modal","imageLarge","modalRef","createRef","handleKeypress","onClose","code","handleCloseModal","current","window","addEventListener","removeEventListener","createPortal","overlay","ref","modal","App","isLoading","isModalOpen","scroll","scrollTo","top","documentElement","scrollHeight","behavior","api","catch","err","console","log","finally","onImgClick","find","item","largeImageURL","openModal","closeModal","prevProps","prevState","length","loader","color","width","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.85b599b8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2rVig\",\"modal\":\"Modal_modal__3zyb9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3QN-I\",\"loader\":\"App_loader__10btT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__1vYxM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1gtU-\"};","import React, { Component } from 'react';\nimport styles from './Searchbar.module.css'\n\nclass Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  onChange = e => {\n    this.setState({ query: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    return (\n      <header className={styles.searchbar}>\n        <form className={styles.searchForm}>\n          <button\n            type=\"submit\"\n            className={styles.searchFormButton}\n            onClick={this.handleSubmit}\n          >\n            <span className={styles.searchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.searchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.onChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React from 'react';\nimport T from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ webformatURL, imageClick, id }) => (\n  <li className={styles.imageGalleryItem}>\n    <img\n      src={webformatURL}\n      alt=\"\"\n      className={styles.imageGalleryItemImage}\n      height=\"200px\"\n      onClick={() => imageClick(id)}\n      id={id}\n      role=\"presentation\"\n    />\n  </li>\n);\n\nImageGalleryItem.propTypes = {\n  webformatURL: T.string.isRequired,\n  imageClick: T.func.isRequired,\n  id: T.number.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport T from 'prop-types';\nimport styles from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ ImageGalleryItem/ImageGalleryItem';\n\nconst ImageGallery = ({ images, imageClick }) => (\n  <ul className={styles.imageGallery}>\n    {images.map(image => (\n      <ImageGalleryItem\n        key={image.id}\n        webformatURL={image.webformatURL}\n        id={image.id}\n        imageClick={imageClick}\n      />\n    ))}\n  </ul>\n);\n\nImageGallery.propTypes = {\n  images: T.arrayOf(\n    T.shape({ id: T.number.isRequired, webformatURL: T.string.isRequired }),\n  ).isRequired,\n  imageClick: T.func.isRequired,\n};\n\nexport default ImageGallery;\n","const fetchImgs = (query, pageNumber) => {\n  const url = `https://pixabay.com/api/?q=${query}&page=${pageNumber}&key=13083480-36e6529ec243ccac1724af6b3&image_type=photo&orientation=horizontal&per_page=12`;\n\n  return fetch(url)\n    .then(res => res.json())\n    .then(data => data.hits);\n};\n\nexport default {\n  fetchImgs,\n};\n","import React from 'react';\nimport T from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ loadMore }) => (\n  <button type=\"button\" onClick={loadMore} className={styles.button}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  loadMore: T.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component, createRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport T from 'prop-types';\nimport styles from './Modal.module.css';\n\nconst MODAL_ROOT = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  state = {\n    url: this.props.imageLarge,\n  };\n\n  static propTypes = {\n    imageLarge: T.string.isRequired,\n    onClose: T.func.isRequired,\n  };\n\n  modalRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeypress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeypress);\n  }\n\n  handleKeypress = e => {\n    const { onClose } = this.props;\n    if (e.code !== 'Escape') {\n      return;\n    }\n    onClose();\n  };\n\n  handleCloseModal = e => {\n    const { current } = this.modalRef;\n    const { onClose } = this.props;\n    if (current && e.target !== current) {\n      return;\n    }\n    onClose();\n  };\n\n  render() {\n    const { url } = this.state;\n    return createPortal(\n      <div\n        className={styles.overlay}\n        onClick={this.handleCloseModal}\n        ref={this.modalRef}\n        role=\"presentation\"\n      >\n        <div className={styles.modal}>\n          <img src={url} alt=\"\" />\n        </div>\n      </div>,\n      MODAL_ROOT,\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport api from '../Services/api';\nimport Button from '../Button/Button';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Modal from '../Modal/Modal';\nimport styles from './App.module.css';\n\nclass App extends Component {\n  state = {\n    images: [],\n    query: '',\n    pageNumber: 1,\n    isLoading: false,\n    imageLarge: null,\n    isModalOpen: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query, images } = this.state;\n    if (prevState.query !== query) {\n      this.fetchImgs();\n    }\n    if (prevState.images.length !== images.length) {\n      this.scroll();\n    }\n  }\n\n  scroll = () =>\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n\n  onSubmit = query => {\n    this.setState({ query, pageNumber: 1, images: [] });\n  };\n\n  fetchImgs = () => {\n    const { query, pageNumber } = this.state;\n    this.setState({ isLoading: true });\n    api\n      .fetchImgs(query, pageNumber)\n      .then(data => {\n        this.setState(state => ({\n          images: [...state.images, ...data],\n          pageNumber: state.pageNumber + 1,\n        }));\n      })\n      .catch(err => console.log(err))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  onImgClick = id => {\n    const { images } = this.state;\n    const image = images.find(item => item.id === id);\n    this.setState({ imageLarge: image.largeImageURL });\n    this.openModal();\n  };\n\n  openModal = () => this.setState({ isModalOpen: true });\n\n  closeModal = () => this.setState({ isModalOpen: false });\n\n  render() {\n    const { images, isLoading, imageLarge, isModalOpen } = this.state;\n\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.onSubmit} />\n        <div className={styles.loader}>\n          {isLoading && (\n            <Loader type=\"Puff\" color=\"#00BFFF\" height={100} width={100} />\n          )}\n        </div>\n\n        {images.length > 0 && (\n          <ImageGallery images={images} imageClick={this.onImgClick} />\n        )}\n\n        {images.length > 0 && <Button loadMore={this.fetchImgs} />}\n        {isModalOpen && (\n          <Modal imageLarge={imageLarge} onClose={this.closeModal} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__M4T2M\",\"searchForm\":\"Searchbar_searchForm__3VknS\",\"searchFormButton\":\"Searchbar_searchFormButton__b797L\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__3Bxjv\",\"searchFormInput\":\"Searchbar_searchFormInput__i32uy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__3b_mC\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__10UWt\"};"],"sourceRoot":""}